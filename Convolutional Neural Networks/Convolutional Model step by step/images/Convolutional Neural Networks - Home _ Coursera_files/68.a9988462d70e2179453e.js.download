(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"/W3X":function(module,e,t){"use strict";t.r(e),t.d(e,"ProgrammingLabLearner",function(){return m});var a=t("VbXa"),n=t.n(a),r=t("q1tI"),o=t.n(r),i=t("MnCE"),s=t("sQ/U"),l=t("q3BH"),c=t("rerG"),u=t("8cuT"),p=t.n(u),d=t("0Uxz"),m=function(e){function ProgrammingLabLearner(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).getLaunchData=function(){var e=t.props,a=e.courseId,n=e.params.itemId;return Promise.resolve(c.h(a,n))},t}var t;return n()(ProgrammingLabLearner,e),ProgrammingLabLearner.prototype.render=function render(){var e=this.props,t=e.courseId,a=e.location;return o.a.createElement(d.a,{courseId:t,getLaunchData:this.getLaunchData,location:a})},ProgrammingLabLearner}(o.a.Component);e.default=Object(i.compose)(p()(["CourseStore"],function(e){var t;return{courseId:e.CourseStore.getCourseId()}}),l.a.createTrackedContainer(function(e){return{namespace:{app:"labs_iframe",page:"learner_lab"},userId:s.a.get().id,courseId:e.courseId,itemId:e.params.itemId,userAgent:navigator.userAgent}}))(m)},"0SWh":function(module,exports,e){var t=e("dgU/"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"0Uxz":function(module,e,t){"use strict";var a=t("o0o1"),n=t.n(a),r=t("lSNA"),o=t.n(r),i=t("yXPU"),s=t.n(i),l=t("VbXa"),c=t.n(l),u=t("q1tI"),p=t.n(u),d=t("wiyT"),m=t.n(d),f=t("TOZ3"),h=t("RdUL"),v=t("XbdE"),b=t("rerG"),E=t("lT8G"),g=t("J8ej"),S=t("4Orx"),w=t("L0mW"),y=t("QAnK"),C=t("ebbt"),N=t("uhOI"),x=t("TNBA"),A=t("6vGN"),I=t("NzvK"),O=t.n(I),R=t("1uKp"),D=t.n(R),H=t("Mo9j"),L=t("R04S");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){o()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var M=6e4,P=150,k=36e5,T=3e5,j=6e3,U=6e5,F=function(e){function FramedLab(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={workspaceId:void 0,launchUrl:void 0,currentLabUrl:void 0,isHealthy:!1,healthCheckAttemptCount:0,apiError:void 0,activeNotification:x.b.NONE,activeModal:x.a.NONE,expiresAt:(new Date).getTime()+6*k,reopenApiStatus:N.a,extendApiStatus:N.a,hasExtendModalBeenDismissed:!1,isSessionExpired:!1,devTargetHost:void 0,isPollingEnabled:!1,isErrorModalShowing:!1},t.loadLaunchData=function(){var e=s()(n.a.mark(function _callee(e){var a,r,o,i,s,l,c,u,p,d;return n.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=t.props,r=a.getLaunchData,o=a.location,n.next=4,new Promise(function(a){return t.setState(_objectSpread({launchUrl:"",currentLabUrl:"",isHealthy:!1},(null==e?void 0:e.newDevTargetHost)&&{devTargetHost:e.newDevTargetHost}),a)});case 4:return i=t.state.devTargetHost,n.next=7,r();case 7:return s=n.sent,l=s.workspaceId,c=s.launchUrl,u=s.expiresAt,n.next=11,i?Promise.resolve(b.k(l)):Promise.resolve();case 11:if(p=n.sent,d=Object(A.a)(c,_objectSpread(_objectSpread(_objectSpread(_objectSpread({},o.query),null==e?void 0:e.launchUrlParams),p&&{token:p}),null==e?void 0:e.launchUrlParamOverrides),i,l),!(null==e?void 0:e.escapeIframe)){n.next=17;break}window.location.href=d,n.next=22;break;case 17:if(!Object(L.d)()){n.next=20;break}return n.next=20,fetch(d,{credentials:"include"});case 20:return n.next=22,new Promise(function(e){return t.setState(_objectSpread({workspaceId:l,expiresAt:u,launchUrl:d},Object(L.d)()?{}:{currentLabUrl:d}),e)});case 22:return n.abrupt("return",_objectSpread(_objectSpread({},s),{},{launchUrl:d}));case 25:throw n.prev=25,n.t0=n.catch(0),t.handleApiFailure(n.t0),n.t0;case 29:case"end":return n.stop()}},_callee,null,[[0,25]])}));return function(t){return e.apply(this,arguments)}}(),t.checkWorkspaceHealth=s()(n.a.mark(function _callee2(){var e,a,r,o,i,s,l,c;return n.a.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(!t.state.isHealthy){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.ensureLaunchDataHasLoaded();case 4:return e=n.sent,a=e.workspaceId,r=e.launchUrl,o=Object(H.c)(r),i=Object(H.b)(r),n.next=11,b.e(a,o);case 11:s=n.sent,t.setState(function(e){return{healthCheckAttemptCount:e.healthCheckAttemptCount+1}}),t.state.healthCheckAttemptCount>=P&&t.setState({isErrorModalShowing:!0}),s&&(l=s.url,(c=s.isHealthy)&&t.setState({isHealthy:c,currentLabUrl:l+i}));case 15:case"end":return n.stop()}},_callee2)})),t.handleApiFailure=function(e){return t.setState({apiError:e,isErrorModalShowing:!0}),e},t.handleCloseErrorModal=function(){t.setState({isErrorModalShowing:!1})},t.setDevTargetHost=function(e){t.setState({devTargetHost:e})},t.updateExpiresAt=function(){return t.ensureLaunchDataHasLoaded().then(function(e){var a=e.workspaceId;return b.d(a).then(function(e){"number"==typeof e&&t.setState({expiresAt:e})})})},t.checkForTimeout=function(){var e=(new Date).getTime(),a=t.state.expiresAt-e;a<=0?t.setState({activeModal:x.a.SESSION_END,isSessionExpired:!0}):a<T&&!t.state.hasExtendModalBeenDismissed&&t.setState({activeModal:x.a.EXTEND})},t.extendSession=function(){t.ensureLaunchDataHasLoaded().then(function(e){var a=e.workspaceId;return new Promise(function(e,r){t.setState({extendApiStatus:N.c},s()(n.a.mark(function _callee3(){var o;return n.a.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.b(a);case 3:o=n.sent,t.setState({expiresAt:o,extendApiStatus:N.a,activeNotification:x.b.SESSION_EXTENDED,hasExtendModalBeenDismissed:!1,activeModal:x.a.NONE},function(){setTimeout(function(){return t.setState({activeNotification:x.b.NONE})},4e3)}),e(),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),t.handleApiFailure(n.t0),r(n.t0);case 12:return n.prev=12,t.setState({extendApiStatus:N.a}),n.finish(12);case 15:case"end":return n.stop()}},_callee3,null,[[0,8,12,15]])})))})})},t.forceRefresh=function(){return m.a.resolve(t.loadLaunchData({launchUrlParams:{forceRefresh:!0}}).then(function(e){t.setState(_objectSpread(_objectSpread({},e),{},{activeNotification:x.b.LAB_UPDATED}),function(){setTimeout(function(){return t.setState({activeNotification:x.b.NONE})},4e3)}),t.closeModals()}))},t.restartContainer=function(){return m.a.resolve(t.loadLaunchData({launchUrlParams:{isRestart:!0}}).then(function(e){t.setState(_objectSpread(_objectSpread({},e),{},{activeNotification:x.b.SERVER_REBOOTED}),function(){setTimeout(function(){return t.setState({activeNotification:x.b.NONE})},4e3)}),t.closeModals()}))},t.reopen=function(){t.setState({reopenApiStatus:N.c},s()(n.a.mark(function _callee4(){var e,a;return n.a.wrap(function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.loadLaunchData({launchUrlParams:{forceRefresh:!1}});case 3:e=n.sent,a=e.expiresAt,t.setState({expiresAt:a,hasExtendModalBeenDismissed:!1,isSessionExpired:!1}),t.closeModals(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),t.handleApiFailure(n.t0);case 12:return n.prev=12,t.setState({reopenApiStatus:N.a}),n.finish(12);case 15:case"end":return n.stop()}},_callee4,null,[[0,9,12,15]])})))},t.closeExtendModal=function(){t.setState({hasExtendModalBeenDismissed:!0}),t.closeModals()},t.closeModals=function(){t.setState({activeModal:x.a.NONE})},t.openFilesModal=function(){t.setState({activeModal:x.a.FILES})},t.openHelpModal=function(){t.setState({activeModal:x.a.HELP})},t}c()(FramedLab,e);var t=FramedLab.prototype;return t.componentDidMount=function componentDidMount(){var e=this;this.loadLaunchData(),setTimeout(function(){return e.setState({isPollingEnabled:!0})},6e4)},t.ensureLaunchDataHasLoaded=function ensureLaunchDataHasLoaded(){var e=this.state,t=e.workspaceId,a=e.launchUrl,n=e.expiresAt;if(!t||!a)return m.a.reject({message:O()("Launch data has not loaded")});return m.a.resolve({workspaceId:t,launchUrl:a,expiresAt:n})},t.render=function render(){var e=this.props.courseId,t=this.state,a=t.workspaceId,n=t.launchUrl,r=t.currentLabUrl,o=t.isHealthy,i=t.healthCheckAttemptCount,s=t.apiError,l=t.activeModal,c=t.reopenApiStatus,u=t.extendApiStatus,d=t.activeNotification,m=t.expiresAt,b=t.isSessionExpired,N=t.devTargetHost,A=t.isPollingEnabled,I=t.isErrorModalShowing,O=Object(L.d)()?o:r;return p.a.createElement("div",{className:"rc-FramedLab"},p.a.createElement(v.b,{interval:6e3,onInterval:this.checkForTimeout,isEnabled:!b}),p.a.createElement(v.b,{interval:6e5,onInterval:this.updateExpiresAt,isEnabled:!b&&A}),Object(L.d)()&&p.a.createElement(v.b,{interval:2e3,onInterval:this.checkWorkspaceHealth,isEnabled:i<P&&!!n&&!!a&&!O}),p.a.createElement(E.a,{courseId:e,apiError:s,activeNotification:d,openFilesModal:this.openFilesModal,openHelpModal:this.openHelpModal}),O?p.a.createElement("iframe",{className:"c-iframe",title:"lab",allow:"clipboard-read; clipboard-write",src:r}):p.a.createElement(f.b,{justifyContent:"center",alignItems:"center",style:{height:"100%"}},p.a.createElement(h.a,null)),l===x.a.EXTEND&&p.a.createElement(g.a,{extendSession:this.extendSession,closeModalHandler:this.closeExtendModal,apiStatus:u}),a&&l===x.a.HELP&&p.a.createElement(S.a,{closeModalHandler:this.closeModals,getNewVersion:this.forceRefresh,restartContainer:this.restartContainer,workspaceId:a,launchUrl:n,loadLaunchData:this.loadLaunchData,devTargetHost:N,setDevTargetHost:this.setDevTargetHost,updateExpiresAt:this.updateExpiresAt,expiresAt:m}),a&&l===x.a.FILES&&p.a.createElement(w.a,{closeModalHandler:this.closeModals,workspaceId:a,courseId:e}),l===x.a.SESSION_END&&p.a.createElement(y.a,{reopen:this.reopen,reopenStatus:c}),I&&p.a.createElement(C.a,{handleClose:this.handleCloseErrorModal}))},FramedLab}(p.a.Component);e.a=F},"1uKp":function(module,exports,e){var t=e("yIFC"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"4Orx":function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),o=t.n(r),i=t("+2ZD"),s=t("pNJH"),l=t("m10x"),c=t("AWZ4"),u=t("XBa+"),p=t("9A5E"),d=t("kvW3"),m=t("WLgL"),f=t("uZaC"),h=t("uhOI"),v=t("R04S"),b=t("6vGN"),E=t("gRVs"),g=t("Mo9j"),S=t("NzvK"),w=t.n(S),y=t("RC49"),C=t.n(y),N=function(e){function HelpModal(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={devTargetHost:"",getNewVersionApiStatus:h.a,isGetNewVersionConfirmationShowing:!1,isRebootServerConfirmationShowing:!1,rebootServerApiStatus:h.a,updateExpiresAtApiStatus:h.a},t.handleContentPathKeyDown=function(e){var a=e.currentTarget.value,n=t.state.devTargetHost;"Enter"===e.key&&t.props.loadLaunchData({newDevTargetHost:t.parseHostname(n),launchUrlParamOverrides:a?{path:a}:{}})},t.handleTargetHostChange=function(e){var a=e.currentTarget.value,n=t.parseHostname(a);t.setState({devTargetHost:a}),t.props.setDevTargetHost(n)},t.handleTargetHostKeyDown=function(e){var a=e.currentTarget.value,n=t.parseHostname(a);"Enter"===e.key&&t.props.loadLaunchData({newDevTargetHost:n})},t.getNewVersion=function(){t.setState({getNewVersionApiStatus:h.c}),t.props.getNewVersion()},t.updateExpiresAt=function(){t.setState({updateExpiresAtApiStatus:h.c}),t.props.updateExpiresAt().then(function(){t.setState({updateExpiresAtApiStatus:h.a})}).catch(function(){t.setState({updateExpiresAtApiStatus:h.b}),setTimeout(function(){t.setState({updateExpiresAtApiStatus:h.a})},5e3)})},t.rebootServer=function(){t.setState({rebootServerApiStatus:h.c}),t.props.restartContainer()},t.showConfirmGetNewVersion=function(){t.setState({isGetNewVersionConfirmationShowing:!0,isRebootServerConfirmationShowing:!1})},t.hideConfirmRebootServer=function(){t.setState({isRebootServerConfirmationShowing:!1})},t.hideConfirmGetNewVersion=function(){t.setState({isGetNewVersionConfirmationShowing:!1})},t.showConfirmRebootServer=function(){t.setState({isRebootServerConfirmationShowing:!0,isGetNewVersionConfirmationShowing:!1})},t.switchToOldExperience=function(e){var a=t.props.loadLaunchData,n=t.state.devTargetHost;e.preventDefault(),a({newDevTargetHost:t.parseHostname(n),launchUrlParams:{isIframe:!1},escapeIframe:!0})},t}n()(HelpModal,e);var t=HelpModal.prototype;return t.parseHostname=function parseHostname(e){return e.startsWith("dev")?"hub.".concat(e,".dev-coursera-apps.org"):e},t.render=function render(){var e=this.props,t=e.closeModalHandler,a=e.devTargetHost,n=e.expiresAt,r=e.launchUrl,S=e.workspaceId,y=this.state,C=y.getNewVersionApiStatus,N=y.isGetNewVersionConfirmationShowing,x=y.isRebootServerConfirmationShowing,A=y.updateExpiresAtApiStatus,I=y.rebootServerApiStatus;return o.a.createElement(i.a,{modalName:"helpModal",className:"rc-HelpModal",handleClose:t,type:"side"},o.a.createElement("div",null,o.a.createElement("h2",null,w()("Lab Help")),o.a.createElement(s.a,null),o.a.createElement("div",{className:"c-HelpModalContent"},o.a.createElement(l.g,null,w()("Update lab with latest version")),o.a.createElement("p",null,w()("This can be used to pull a new version or to start over. It will not override your existing files. Before updating, save your files, then move them into a new folder or rename them."))),N?o.a.createElement("div",{className:"c-HelpConfirmationStatus "+(C===h.c?"c-HelpConfirmationStatusInProgress":"c-HelpConfirmationStatusBeforeSend")},o.a.createElement("div",{className:"c-HelpModalContent"},o.a.createElement("p",null,w()("Are you sure? Any unsaved progress will be lost.")),o.a.createElement(c.b,{label:w()("Cancel"),type:"secondary",onClick:this.hideConfirmGetNewVersion,disabled:C===h.c,size:"sm"}),o.a.createElement(u.a,{apiStatusAttributesConfig:{label:{API_BEFORE_SEND:w()("Update lab"),API_IN_PROGRESS:w()("Updating..."),API_ERROR:w()("Update failed")}},apiStatus:C,onClick:this.getNewVersion,size:"sm",type:"primary"}))):o.a.createElement("div",{className:"c-HelpModalContent"},o.a.createElement(c.b,{label:w()("Get latest version"),type:"primary",onClick:this.showConfirmGetNewVersion,size:"sm"}),o.a.createElement(s.a,null)),o.a.createElement("div",{className:"c-HelpModalContent"},o.a.createElement(l.g,null,w()("Reboot Server")," "),o.a.createElement("p",null,w()("Please save your progress before rebooting the server."))),x?o.a.createElement("div",{className:"c-HelpConfirmationStatus "+(I===h.c?"c-HelpConfirmationStatusInProgress":"c-HelpConfirmationStatusBeforeSend")},o.a.createElement("div",{className:"c-HelpModalContent"},o.a.createElement("p",null,w()("Are you sure? Any unsaved progress will be lost.")),o.a.createElement(c.b,{label:w()("Cancel"),type:"secondary",onClick:this.hideConfirmRebootServer,disabled:I===h.c}),o.a.createElement(u.a,{apiStatusAttributesConfig:{label:{API_BEFORE_SEND:w()("Reboot"),API_IN_PROGRESS:w()("Rebooting..."),API_ERROR:w()("Reboot failed")}},apiStatus:I,onClick:this.rebootServer,size:"sm",type:"primary"}))):o.a.createElement("div",{className:"c-HelpModalContent"},o.a.createElement(c.b,{label:w()("Reboot"),type:"primary",size:"sm",onClick:this.showConfirmRebootServer}),o.a.createElement(s.a,null)),o.a.createElement("div",{className:"c-HelpModalContent"},o.a.createElement(l.g,null,w()("Having more issues?")),o.a.createElement("p",null,o.a.createElement(d.b,{message:w()("You can find more troubleshooting steps in {learnerHelpCenter}, or {switchBack}."),learnerHelpCenter:o.a.createElement(f.a,{linkText:w()("Learner Help Center"),articleId:"360042817371"}),switchBack:o.a.createElement(p.a,{trackingName:"switch_back",data:{labId:S},onClick:this.switchToOldExperience,href:Object(b.a)(r||Object(g.a)(S),{isIframe:!1},this.parseHostname(this.state.devTargetHost))},w()("switch back to the old lab experience"))})),o.a.createElement(l.g,null,w()("Lab ID")),o.a.createElement(E.a,{item:S})),Object(v.a)()&&o.a.createElement("div",{className:"c-HelpModalContent"},o.a.createElement(s.a,null),o.a.createElement("div",null,o.a.createElement(l.g,null,"Target Host")," (internal only)"),o.a.createElement("input",{className:"target-host",placeholder:"dev2",defaultValue:a,onChange:this.handleTargetHostChange,onKeyDown:this.handleTargetHostKeyDown}),o.a.createElement("div",null,o.a.createElement(l.g,null,"Go To Content Path")," (beta)"),o.a.createElement("input",{className:"content-path",placeholder:"/",onKeyDown:this.handleContentPathKeyDown}),o.a.createElement(l.g,null,"Session Expires At (internal only)"),o.a.createElement("div",null,Object(m.s)(n)),o.a.createElement(u.a,{type:"primary",size:"zero",apiStatus:A,onClick:this.updateExpiresAt,label:"Refresh Expires At"}))))},HelpModal}(o.a.Component);e.a=N},"6vGN":function(module,e,t){"use strict";t.d(e,"a",function(){return r});var a=function handleLaunchUrlParamOverride(e,t){return void 0!==t?t:"true"===e||"false"!==e&&void 0},n=function constructLaunchUrlParams(e,t){var n=new URLSearchParams(e&&new URL(e).search);for(var r in t){var o=a(n.get(r),null==t?void 0:t[r]);void 0===o?n.delete(r):n.set(r,String(o))}return n},r=function constructLaunchUrl(e,t,a,r){var o=n(e,t);if(a&&r)return"https://"+a+"/connect/"+r+"?"+o.toString();var i=e.split("?")[0],s=o.toString();return s?i.concat("?",s):i}},"8wBf":function(module,e,t){"use strict";t.d(e,"a",function(){return a});var a="hub.labs.coursera.org"},Gwes:function(module,e,t){"use strict";t.d(e,"a",function(){return a});var a=function apiErrorToString(e){return(null==e?void 0:e.message)||String(e)}},J8ej:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("+2ZD"),o=t("XBa+"),i=t("NzvK"),s=t.n(i),l=t("kLR/"),c=t.n(l),u=function ExtendModal(e){var t=e.extendSession,a=e.closeModalHandler,i=e.apiStatus;return n.a.createElement("div",null,n.a.createElement(r.a,{modalName:"extendModal",className:"rc-ExtendModal",handleClose:a},n.a.createElement("div",null,n.a.createElement("h2",null,s()("Need more time to finish your lab?")),n.a.createElement("p",null,s()("If you need more time with your lab, extend your session. Any changes made after timeout will not be saved.")),n.a.createElement(o.a,{type:"primary",label:s()("Extend"),apiStatus:i,onClick:t,style:{float:"right"}}))))};e.a=u},L0mW:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),o=t.n(r),i=t("+2ZD"),s=t("pNJH"),l=t("m10x"),c=t("XBa+"),u=t("uhOI"),p=t("rerG"),d=t("R04S"),m=t("NzvK"),f=t.n(m),h=t("RC49"),v=t.n(h),b=function(e){function FilesModal(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={downloadLabFilesApiStatus:u.a},t.showErrorAndReset=function(){t.setState({downloadLabFilesApiStatus:u.b},function(){setTimeout(function(){t.setState({downloadLabFilesApiStatus:u.a})},5e3)})},t.downloadLabFiles=function(){var e=t.props.workspaceId;t.setState({downloadLabFilesApiStatus:u.c},function(){Object(p.a)(e).then(function(e){if(t.setState({downloadLabFilesApiStatus:u.a}),e.downloadUrl){var a=document.createElement("a");a.href=e.downloadUrl,a.click()}else t.showErrorAndReset()},t.showErrorAndReset).catch(t.showErrorAndReset)})},t}var t;return n()(FilesModal,e),FilesModal.prototype.render=function render(){var e=this.props,t=e.closeModalHandler,a=e.courseId,n=this.state.downloadLabFilesApiStatus;return o.a.createElement(i.a,{modalName:"filesModal",className:"rc-FilesModal rc-HelpModal",handleClose:t,type:"side"},o.a.createElement("div",null,o.a.createElement("h2",null,f()("Lab Files")),o.a.createElement(s.a,null),Object(d.b)(a)&&o.a.createElement("div",{className:"c-HelpModalContent"},o.a.createElement(l.g,null,f()("Download Lab files")," "),o.a.createElement("p",null,f()("Download your Lab files as a ZIP archive.")),o.a.createElement(c.a,{apiStatusAttributesConfig:{label:{API_BEFORE_SEND:f()("Download"),API_IN_PROGRESS:f()("Generating..."),API_ERROR:f()("Download failed")}},apiStatus:n,onClick:this.downloadLabFiles,size:"sm",type:"primary"}))))},FilesModal}(o.a.Component);e.a=b},L7Rj:function(module,exports,e){},Mo9j:function(module,e,t){"use strict";t.d(e,"a",function(){return n}),t.d(e,"c",function(){return r}),t.d(e,"b",function(){return o});var a=t("8wBf"),n=function constructWorkspaceUrl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a;return"https://".concat(t,"/connect/").concat(e)},r=function extractLabHostname(e){return new URL(e).hostname},o=function extractContentPath(e){return new URL(e).searchParams.get("path")||""}},QAnK:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("+2ZD"),o=t("XBa+"),i=t("NzvK"),s=t.n(i),l=t("oizC"),c=t.n(l),u=function SessionEndModal(e){var t=e.reopen,a=e.reopenStatus;return n.a.createElement("div",null,n.a.createElement(r.a,{modalName:"sessionEndModal",className:"rc-SessionEndModal",allowClose:!1},n.a.createElement("div",null,n.a.createElement("h2",null,s()("Your lab session has timed out")),n.a.createElement("p",null,s()("If youâ€™d like to continue working, reopen the lab.")),n.a.createElement(o.a,{type:"primary",label:s()("Reopen"),apiStatus:a,onClick:t,style:{float:"right"}}))))};e.a=u},RC49:function(module,exports,e){var t=e("sZ/Q"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},TNBA:function(module,e,t){"use strict";t.d(e,"b",function(){return r}),t.d(e,"a",function(){return o});var a="learner",n="instructor",r={NONE:"none",SESSION_EXTENDED:"sessionExtended",LAB_UPDATED:"labUpdated",SERVER_REBOOTED:"serverRebooted"},o={NONE:"none",EXTEND:"extend",HELP:"help",FILES:"files",SESSION_END:"sessionEnd"}},XbdE:function(module,e,t){"use strict";t.d(e,"a",function(){return l});var a=t("VbXa"),n=t.n(a),r=t("q1tI"),o=t.n(r),i=t("plNT"),s=0,l=function(e){function Poller(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={isRunning:!1},t.onInterval=function(){var e=t.props.onInterval;return e?Promise.resolve(e()):Promise.resolve()},t.start=function(){t.setState({isRunning:!0},t.run)},t.stop=function(){t.clearTimeout(),t.setState({isRunning:!1})},t.run=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=t.props,n=a.interval,r=a.isEnabled,o=t.state.isRunning,i=e||r&&o;if(t.clearTimeout(),!i||!t.mounted)return;var s=function runNext(){r&&o&&t.mounted&&(t.clearTimeout(),t.timeoutId=window.setTimeout(t.run,n))};t.onInterval().then(s,s)},t.mounted=!1,t.pollerRef={},t.timeoutId=s,t}n()(Poller,e);var t=Poller.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props,t=e.autoStart,a=e.pollerRef;this.mounted=!0,this.pollerRef.current={start:this.start,stop:this.stop,run:this.run},a&&(a.current=this.pollerRef.current),t&&this.start()},t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,a=t.pollerRef,n=t.isEnabled,r=this.state.isRunning;a&&a!==e.pollerRef&&(a.current=this.pollerRef.current),e.isEnabled!==n&&(n?r&&this.run():this.clearTimeout())},t.componentWillUnmount=function componentWillUnmount(){this.mounted=!1,this.stop()},t.clearTimeout=function(e){function clearTimeout(){return e.apply(this,arguments)}return clearTimeout.toString=function(){return e.toString()},clearTimeout}(function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=s)}),t.render=function render(){var e=this.props,t=e.uid,a=e.name,n=e.showDebugger,r=e.isEnabled,s=this.state.isRunning;return n?o.a.createElement(i.a,{uid:t,name:a,pollerRef:this.pollerRef,isEnabled:r,isRunning:s}):null},Poller}(o.a.Component);l.defaultProps={autoStart:!0,isEnabled:!0,showDebugger:!1},e.b=l},YjNM:function(module,exports,e){var t=e("L7Rj"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},aFQC:function(module,exports,e){},bAeU:function(module,exports,e){var t=e("fGuS"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"dgU/":function(module,exports,e){},ebbt:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("+2ZD"),o=t("AWZ4"),i=t("NzvK"),s=t.n(i),l=t("0SWh"),c=t.n(l),u=function reload(){window.location.reload()},p=function ErrorModal(e){var t=e.handleClose;return n.a.createElement("div",null,n.a.createElement(r.a,{modalName:"errorModal",className:"rc-errorModal",allowClose:!0,handleClose:t},n.a.createElement("div",null,n.a.createElement("h2",null,s()("Error")),n.a.createElement("p",null,s()("Something went wrong")),n.a.createElement(o.b,{type:"primary",label:s()("Reload"),onClick:u,style:{float:"right"}}))))};e.a=p},fGuS:function(module,exports,e){},gRVs:function(module,e,t){"use strict";t.d(e,"a",function(){return m});var a=t("pVnL"),n=t.n(a),r=t("VbXa"),o=t.n(r),i=t("q1tI"),s=t.n(i),l=t("sOkY"),c=t("YjNM"),u=t.n(c),p=t("Yy0d"),d=t.n(p),m=function(e){function CopyItem(t){var a;return(a=e.call(this,t)||this).textInput=null,a.handleClick=function(){var e=a.props.onItemClick;a.textInput&&(a.textInput.select(),document.execCommand("copy"),a.toggleCopiedMessage(!0),setTimeout(function(){return a.toggleCopiedMessage(!1)},2500),e&&e())},a.toggleCopiedMessage=function(e){a.setState(function(){return{showCopiedMessage:e}})},a.state={showCopiedMessage:!1},a}var t;return o()(CopyItem,e),CopyItem.prototype.render=function render(){var e=this,t=this.props,a=t.item,r=t.trackingName,o=t.e2eDataName,i=this.state.showCopiedMessage;return s.a.createElement(l.a,{className:"rc-CopyItem",trackingName:"".concat(r,"_container")},s.a.createElement(l.a,{className:"rc-CopyItem__input_wrapper",trackingName:"".concat(r,"_input")},s.a.createElement("input",n()({ref:function ref(t){e.textInput=t},className:"rc-CopyItem__input",type:"text",value:a},o&&{"data-e2e":o},{readOnly:!0}))),s.a.createElement(l.a,{className:"rc-CopyItem__button",trackingName:"".concat(r,"_button"),"aria-label":"copy",onClick:this.handleClick},i?s.a.createElement("span",{role:"alert"}," ",d()("COPIED!")," "):s.a.createElement("span",null," ",d()("COPY"))))},CopyItem}(s.a.Component);m.defaultProps={trackingName:"copy_item"}},"kLR/":function(module,exports,e){var t=e("vU/b"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},l5BF:function(module,exports,e){var t=e("aFQC"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},lT8G:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),o=t.n(r),i=t("IqPN"),s=t("CsdX"),l=t("BxDD"),c=t("pNJH"),u=t("pX7z"),p=t("V8Ia"),d=t("Gwes"),m=t("vUL0"),f=t("TNBA"),h=t("R04S"),v=t("NzvK"),b=t.n(v),E=t("l5BF"),g=t.n(E),S=function getNotificationMessage(e){var t;return{sessionExtended:b()("Your session has extended"),labUpdated:b()("Retrieved latest files. Any existing files are not updated."),serverRebooted:b()("Your server has been rebooted successfully")}[e]||""},w=function(e){function FramedLabHeader(){return e.apply(this,arguments)||this}n()(FramedLabHeader,e);var t=FramedLabHeader.prototype;return t.renderNotification=function renderNotification(){var e=this.props,t=e.apiError,a=e.activeNotification;return t?o.a.createElement(i.a,{message:Object(d.a)(t),type:"error",style:{minHeight:"35px",height:"35px",width:"auto",margin:"auto 0"}}):a!==f.b.NONE?o.a.createElement(i.a,{message:S(a),type:"success",style:{minHeight:"35px",height:"35px",width:"auto",margin:"auto 0"}}):null},t.render=function render(){var e=this.props,t=e.courseId,a=e.openFilesModal,n=e.openHelpModal;return o.a.createElement("div",null,o.a.createElement("div",{className:"rc-FramedLabHeader jupyter-container"},o.a.createElement(m.a,{className:"c-CourseraLogo",hexColorCode:s.b.primary}),this.renderNotification(),o.a.createElement("span",{className:"lab-header-menu"},Object(h.b)(t)&&o.a.createElement(l.a,{label:b()("Files"),type:"icon",svgElement:o.a.createElement(u.a,{size:20,color:s.b.primaryText,"aria-hidden":"true"}),onClick:a,style:{padding:0}}),o.a.createElement(l.a,{label:b()("Help"),type:"icon",svgElement:o.a.createElement(p.a,{size:20,color:s.b.primaryText,"aria-hidden":"true"}),onClick:n,style:{padding:0}}))),o.a.createElement(c.a,null))},FramedLabHeader}(o.a.Component);e.a=w},oizC:function(module,exports,e){var t=e("xiCU"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},pX7z:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("MnCE"),o=t("oyNZ");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var a=_objectWithoutPropertiesLoose(e,t),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){if(n=o[r],t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;a[n]=e[n]}}return a}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var a={},n=Object.keys(e),r,o;for(o=0;o<n.length;o++){if(r=n[o],t.indexOf(r)>=0)continue;a[r]=e[r]}return a}var i=function SvgStackedFile(e){var t=e.title,n=void 0===t?"Stacked File":t,r=_objectWithoutProperties(e,["title"]);return a.createElement(o.a,_extends({title:n},r,{viewBox:"0 0 50 50"}),a.createElement("g",{xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"m37 6h6v29c0 7.1797-5.8203 13-13 13h-19v-6h-6v-42h32v6zm-30 34h4v-34h24v-4h-28v38zm34-5v-27h-28v38h17c6.0751 0 11-4.9249 11-11zm-21-17h14v2h-14v-2zm0 8h14v2h-14v-2zm0 8h10v2h-10v-2z"})))};(i=Object(r.pure)(i)).displayName="SvgStackedFile",e.a=i},plNT:function(module,e,t){"use strict";t.d(e,"a",function(){return b});var a=t("lSNA"),n=t.n(a),r=t("VbXa"),o=t.n(r),i=t("q1tI"),s=t.n(i),l=t("TOZ3"),c=t("CsdX"),u=t("qAUi"),p=t("wwtN"),d=t("6gRZ"),m=t.n(d),f=t("sQ/U"),h=t("bAeU"),v=t.n(h);function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){n()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var b=function(e){function PollerDebugger(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={config:{shouldDisplay:!1,shouldRun:!0}},t.loadConfig=function(){var e=t.getStorageKey(),a=t.state.config;try{var n=JSON.parse(localStorage.getItem(e)||"");return Promise.resolve(_objectSpread(_objectSpread({},a),n))}catch(e){return Promise.resolve(a)}},t.saveConfig=function(){var e=t.getStorageKey(),a=t.state.config,n=JSON.stringify(a);return localStorage.setItem(e,n),Promise.resolve()},t.start=function(){var e=t.props.pollerRef.current;if(!e)return;t.setState(function(e){var t;return{config:_objectSpread(_objectSpread({},e.config),{},{shouldRun:!0})}},function(){t.saveConfig().then(function(){e.start()})})},t.stop=function(){var e=t.props.pollerRef.current;if(!e)return;t.setState(function(e){var t;return{config:_objectSpread(_objectSpread({},e.config),{},{shouldRun:!1})}},function(){t.saveConfig().then(function(){e.stop()})})},t.toggle=function(){var e;t.props.isRunning?t.stop():t.start()},t.forceRun=function(){var e=t.props.pollerRef.current;null==e||e.run(!0)},t}o()(PollerDebugger,e);var t=PollerDebugger.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props,a=t.uid,n=t.pollerRef;a&&this.loadConfig().then(function(t){e.setState({config:t},function(){if(!n.current)return;t.shouldRun?n.current.start():n.current.stop()})})},t.getStorageKey=function getStorageKey(){var e=this.props.uid;return"poller:".concat(e||"unknown")},t.render=function render(){var e=this.props,t=e.name,a=e.pollerRef.current,n=e.isEnabled,r=e.isRunning,o,i=this.state.config.shouldDisplay&&f.a.isSuperuser();if(!a||!i)return null;return s.a.createElement(l.b,{rootClassName:"rc-PollerDebugger",alignItems:"center"},n?s.a.createElement(u.a,{size:18,color:c.b.success}):s.a.createElement(p.a,{size:18,color:c.b.danger}),s.a.createElement("span",null,n&&r?"Polling":"Not polling"," ",t),s.a.createElement(d.ButtonGroup,null,s.a.createElement(d.Button,{size:"xs",onClick:this.toggle},r?"Stop":"Start"),s.a.createElement(d.Button,{size:"xs",onClick:this.forceRun},"Force Run")))},PollerDebugger}(i.Component)},"sZ/Q":function(module,exports,e){},"vU/b":function(module,exports,e){},xiCU:function(module,exports,e){},yIFC:function(module,exports,e){}}]);
//# sourceMappingURL=68.a9988462d70e2179453e.js.map